---
title: kettle 踩过的坑
date: 2020-08-26 08:45:24
tags: [数据同步,踩坑]
categories: kettle
---
**之前用 kettle 做过专网到公安网的数据同步，踩过一些坑，记录一下。**

1、转换关联的 DB 连接可以右击设置为共享，那么新建其他转换时，就可以选中建好的连接。
2、数据库在修改过字段后，要清除 kettle 的数据库缓存，不然获取新字段的时候获取不了。
3、kettle 要设置字符编码，否则同步的时候数据会乱码。
4、数据同步时，获取更新字段，默认会包含 flagfield 要把这个字段删掉，否则报错。
5、数据同步时，要点击高级，选择操作的字段名为 flagfield。
6、kettle 的转换有时候同步不成功，例如新增的数据没有同步过去，但又不打印日志，很有可能是字段的约束问题导致的。可以新建一个转换重试。
7、新增/修改/删除的同步场景，用表输入 -> 合并记录 -> 数据同步即可

